we start any server by calling the run_mg.sh in its corresponign folder. With the excpetion of the port number, these are identical and can be copied easily, but we easily could automate the process to a single shell file if we knew what the scope of MGs looks like. I do not, however, make this assumption, and hence we remain with several simmilar run_mg.sh files. We also have commented out code in app.py to search through our MGs folder and add all servers, but again, we don't assume this is how the files are structure, and since it would require some non-trivial scripting to actually make it work such that running from a shell flask run call and from the setup method could grab the full scope of the file/server, we dont use the this for parseability when using a traditional flask run call.

Any MG connects to the middleware by POSTing to the add_server route with its own url. This adds the the url to a JSON containing a list of the urls that the middleware currenly knows is active. TThe tiles should be precompile in the imgages folder before being used in makeMosiac (this will be moved to the server state later) make sure the images folder exists for any mg you make.

The MGs send mosaics via the makeMosaic POST route, which takes in a file and the tilesAcross and tileSize variables to be processed in mglogic.